<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:t="http://myfaces.apache.org/tomahawk"
		template="templates/template.xhtml">
		
<!-- author: ngilbert llew-->

<ui:define name="pageTitle">NB Gardens - OrderCheckout</ui:define>

<ui:define name="content">
<div id="MainContent">
	<div id="title">
			<h1>Order Checkout</h1>
			</div>
			
			<ui:insert name="NBGardensCatalog">
				<h:dataTable id="catalogTable" value="#{basketController.basket}" var="orderLine" border="1">
										
					<h:column>
						<f:facet name="header">
       	     				<h:outputText value="Item Name" />
       					 </f:facet>
						<h:outputText value="#{orderLine.product.productName}"/><br/><br/>
					</h:column>
					<h:column>
						<f:facet name="header">
       	     				<h:outputText value="Item Quantity" />
       					</f:facet>
						<h:outputText value="#{orderLine.quantity}"/><br/><br/>
					</h:column>
					<h:column>
						<f:facet name="header">
       	     				<h:outputText value="Item SubTotal" />
       					</f:facet>				
						<h:outputText value="£#{orderLine.quantity *  orderLine.product.productPrice}"/><br/><br/>
					</h:column>
				</h:dataTable>
				
   				<h2><h:outputText value="Total: £#{basketController.total}" /> </h2>
    			<br />
    			<br />
  			</ui:insert>
	
	<h:form>
	
	<div id="paymentDetails">
	
		<div>
		<h2>Payment Details</h2>
		
		<div id="registeredPaymentDetails">
		
				Card Type <h:selectOneMenu value="#{orderCheckoutController.paymentDetails.cardType}" >
    				<f:selectItems value="#{orderCheckoutController.enumValues}" />
				</h:selectOneMenu><br/>
				Card Number : <h:inputText value="#{orderCheckoutController.paymentDetails.cardNumber}"/><br/>
				Name on Card : <h:inputText value="#{orderCheckoutController.paymentDetails.nameOnCard}"/><br/>
				Security Number : <h:inputText value="#{orderCheckoutController.paymentDetails.securityNumber}"/><br/>
				Expiry Date : <h:inputText value="#{orderCheckoutController.paymentDetails.expiryDate}"/><br/>
		</div>
		
		<br /> <br />
		
		<h2>Billing Address</h2>	
		<div id="billingAddress">
			
				Address Line 1 : <h:inputText value="#{orderCheckoutController.address.addressLine1}"/><br/>
				Address Line 2 : <h:inputText value="#{orderCheckoutController.address.addressLine2}"/><br/>
				Address Line 3 : <h:inputText value="#{orderCheckoutController.address.addressLine3}"/><br/>
				City : <h:inputText value="#{orderCheckoutController.address.city}"/><br/>
				County : <h:inputText value="#{orderCheckoutController.address.county}"/><br/>
				Postcode : <h:inputText value="#{orderCheckoutController.address.postcode}"/><br/>
		</div>
		
	<div id="submitOrder">
				<h:commandButton value="Place Order"  id="checkout"
							action="#{orderCheckoutController.changeOrderStatus}">
				</h:commandButton>
	</div>	
	</div>
	</div>
    </h:form>		
	<br/>
</div>


</ui:define>
</ui:composition>
